language: node_js
node_js:
  - "5"
branches:
  only:
  - master
before_install:
- npm install -g hexo-cli
- npm install -g hexo
before_script:
- git config --global user.name 'fitzlee'
- git config --global user.email 'fitz.lee@outlook.com'
- sed -i'' "s~git@github.com:fitzlee/blog.git~https://${GH_TOKEN}:x-oauth-basic@github.com/fitzlee/blog.git~" _config.yml
install:
- npm install
script:
- hexo generate
- hexo deploy --silent
after_success:

env:
  global:
    secure: vkGrHHyeWx2S7MGrWroL/YFdv5E6e/0t5SzGHeTMlp/6NQtYLORmeM2XgVWMEk3UxThqN4/5hTPLqg6/KVZh/ohvJxot4uB3tYL9dqOMhNOMH6HaF05H/yl4Ufa0e+0OVJhfrLQ0m2JdDaJPWl3PO+QdfZUOjKZSActE0QUMi3p6yOyLWFrh7e4qkpokLy1yMScEAAZU96nR0Y3cCB15XumD1b1nKZLgAMTLlGwALeBdRQaiLzO3bTl+HBnYZZhLAZw+iOvj8W1RVzW3Kq3Ix+KiIOiK4FFV+axPAF0J7tDXNkylgbgSBAXGtXb0PgqNRueTBNA/t6NWvnZhPHTw2l5beeXlpoFGFkwUDegacHgQ+7Y+QM6PFM2OQ+Ux1m9flr7jvaw9A1meJucblgY8b9H6DPnzKy0BAWej5fEDUAnu/Rs6pIiOgvxiFpgo6G72fC/wg/cYTnV44r2fTe0u+kb9SY6L4w9Q1EC0qD8K04GsB7dxxjL0KMOyy3lO0MZyP8r0YdrWCbuQwuyMGgUEjyPnN7dkjcwRMbaCJnaKGqm7vDiyDKTY5JbEulgZKnkHo0QFditwevWb7OyJgi7EN0X2L2Jon911WMZvz39+DJ39bVDmcEd7v0sBxDDTVmoHI54UZfey7P/0s6WQ1dPRZnM7e4YBfnMpVUmJb3bZHdk=
